+++
title = "如何使用git submodule"
date =  2022-05-06T00:00:25+08:00
draft = true
description = "使用git submodule管理工程"
tags = ["git"]

+++

> 作者: RunThem
> 未经允许, 禁止转载, 尤其 `CSDN`, 违者必究

`git submodule太复杂了`

# 引言

在使用github这个宝库时, 经常会遇到有意思的项目(C/C++), 但又没有现成的可执行文件可以跑一下, 就需要手动照着 `README` 来构建项目.

这种事情一般都在 `C/C++` 项目中, 因为其他的现代化的编程语言基本都带上了构建工具, 下载依赖, 编译项目, 运行项目, 一条龙服务. 不像 `C/C++` 这种从蛮荒时代活下来的上古大能.

`C/C++` 的项目依赖大部分都可以使用操作系统的包管理器来下载, 但是这个毕竟不是正道, 一条依赖版本不正确就直接废了, 只能下载依赖的源码手动构建, 所以现在的 `C/C++` 项目很多都直接打包了依赖的源码, 一起编译.

而打包依赖的源码如果是使用 `git` 做版本控制的话(基本上), 那基本上就是使用 `git submodule` 来管理依赖的, 本文来简单介绍一下 `git submodule` 的使用方法.

---

## 1. 下载第三方项目

有两种方法, 一步一步来, 先克隆父项目, 再更新子模块.

```shell
git clone {URL}
```

查看子模块, 若子模块前面有一个 '-' 说明子模块文件还未检入, 此时就需要初始化子模块了(只需要执行一次即可, 后续更新子模块也无需再次初始化)

```shell
git submodule # 查看子模块状态
-xxx XXX

git submodule init # 初始化子模块

git submodule update # 更新子模块(第一次执行时是克隆子模块)
```

第二种方法, 就简单一些, 就一条命令

```shell
git clone --recursive {URL} # --recursive 即递归的克隆整个项目, 一次到位, 后续还是使用上面的命令去更新子模块
```